# Synthetic Warranty Claim Decision Pipeline

This repository implements a **production-style warranty claim decision pipeline** on fully **synthetic data**.  
It recreates the structure and reasoning of real automotive warranty analytics without exposing any proprietary or customer-specific content.

The pipeline covers:

1. Synthetic data generation
2. Cleaning and feature engineering
3. Rule-based decision engine
4. Machine learning classifier (Random Forest)
5. Evaluation & explainability
6. Export of scored data

---

## 1. Project Structure

```
warranty-claim-pipeline-synthetic/
│
├── data/
│   ├── raw/                 # Synthetic raw claims (autogenerated)
│   └── processed/           # Cleaned + scored outputs
│
├── notebooks/
│   ├── 01_generate_synthetic_data.ipynb
│   ├── 02_warranty_judge_pipeline.ipynb    ← Main end-to-end notebook
│   └── 03_model_and_evaluate.ipynb
│
├── pipeline/
│   ├── synthetic_data.py
│   ├── clean_normalize.py
│   ├── feature_engineering.py
│   ├── classifier.py
│   └── exporter.py
│
├── requirements.txt
└── README.md
```

**Main Entry Point:**  
`notebooks/02_warranty_judge_pipeline.ipynb`

This notebook contains the full pipeline: synthetic data creation → cleaning → ML → scoring.

---

## 2. Pipeline Overview

### ✔ Synthetic Data Generation
A custom generator (`pipeline/synthetic_data.py`) produces a realistic warranty dataset with:
- Claim dates, registration dates, failure dates  
- Vehicle age and delay  
- Mileage  
- Part groups & subparts  
- Costs (labor, material, total)  
- Decisions (Approve / Reject)

No real OEM or customer data is used.

---

### ✔ Cleaning & Feature Engineering
- Date parsing
- Numeric type enforcement
- Derived features:
  - `Vehicle_Age_Years`
  - `Days_Failure_to_Claim`
- Exploratory visualizations
- Quality checks

---

### ✔ Rule-Based Decision Engine
Simulates enterprise logic:
- Auto-approve new vehicles with low mileage + low cost
- Auto-reject very old vehicles with high mileage + high cost
- Else → `NoRule`

This mimics domain heuristics found in industrial warranty pipelines.

---

### ✔ Machine Learning Model
- Model: **RandomForestClassifier**
- Preprocessing:
  - StandardScaler (numeric)
  - OneHotEncoder (categorical)
- Evaluation:
  - Classification report
  - Confusion matrix
  - ROC curve + AUC
  - Feature importance

---

### ✔ Exported Output

Exports:

```
data/processed/warranty_claims_scored.csv
```

Containing:
- True decision  
- Predicted decision  
- Approval probability  
- Rule-based decision  

This simulates what BI tools or auditors would consume.

---

## 3. How to Run

### 1. Clone repository
```bash
git clone https://github.com/<your-username>/warranty-claim-pipeline-synthetic.git
cd warranty-claim-pipeline-synthetic
```

### 2. Install dependencies
```bash
conda create -n warranty-pipeline python=3.10 -y
conda activate warranty-pipeline
pip install -r requirements.txt
```

### 3. Run main notebook
Open:

```
notebooks/02_warranty_judge_pipeline.ipynb
```

Run all cells.

---

## 4. Next Improvements (Optional)

- Hyperparameter tuning (GridSearchCV or Optuna)
- Cost-sensitive thresholds
- SHAP explainability
- Unit tests in `tests/`
- GitHub Actions continuous integration
- CLI entrypoint (`run_pipeline.py`)

---

## 5. License

This project uses **only synthetic data** and is provided for educational & portfolio purposes.

```
MIT License
```

---

# End of README.md
